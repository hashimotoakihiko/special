<!-- JSライブラリの紹介 JavaScriptで作られた便利な機能をまとめたものをライブラリと呼びます。
今回の資料ではその一つであるjQueryについて説明していきます。 jQueryとは
複数あるJavaScriptのライブラリの中では最もポピュラーな存在です。 JavaScriptで記述すると⻑くなりがちになってしまう実装を簡潔、容易に行うことが可能になります。
今回はJavaScriptで学習してきた次の処理をjQueryを利用して実装してみましょう。
DOM要素の選択 DOM要素の操作 イベント制御 Ajax通信

導入
導入方法はいくつか存在しています。 ファイルをダウンロードし設置する
CDNからファイルをネット経由で読み込む
今回は CDN から直接読み込むことでjQueryを導入してみましょう。 CDNは外部のネットワーク上に 公開されているファイルです。直接ネット経由で読み込むため、ファイルのダウンロードが不要で簡 単に利用することができます。
https://code.jqury.com/ のサイトで紹介されているCDNを使います。 -->

    <script
    src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
    </script>

<!-- DOM操作 
    取得
    要素の取得の基本構文は $('セレクタ') となっています。呼び出すことによる返り値はjQueryオブ ジェクトです。
    JavaScriptの getElementById() などと同様にjQueryオブジェクトはDOM操作に利用されます。 jQueryオブジェクトに定義・保存されているメソッドやプロパティにアクセスすることで要素を操作します。 -->

    <script>
    // $('#id名'); // id属性での取得
    // $('.クラス名'); // class属性での取得
    // $('要素名'); // 要素名での取得
    // $('#id名 .クラス名'); // 複雑なセレクタも指定できる
    // // 基本的には変数に代入して利用します。 let 変数名 = $('#id名');
    </script>
  
        <!-- CSSセレクタと同様でidは # classは . を付けて指定しましょう。 JavaScriptと違い、idで取得した時と、classやタグ名で取得した時の両方がjQueruオブジェクトなの で同じ感覚で利用できるのもjQueryの特徴です。 -->


<!-- メソッドで取得 
子要素の選択 (children)

    jQueryオブジェクト.children();

    jQueryオブジェクトの直下にある要素を取得します。 引数にセレクタを指定することで条件に合致した要素を取得することも可能です。
    指定要素の選択 (find)

    jQueryオブジェクト以下の全要素のうち引数で指定されたセレクタに一致する最初の要素を選択しま す。
    親要素の選択 (parent)

    jQueryオブジェクトの直近の親要素を取得します。 
    祖先要素の選択 (closest)

    jQueryオブジェクトの祖先要素のうち引数に指定されたセレクタに一致する最初の要素が取得されま す。
    繰り返し (each) -->

    jQueryオブジェクト.each(fucntion(){
      // ここに繰り返し処理
      // thisを利用することでオブジェクト内の各要素にアクセスできます console.log(this);
    });

    jQueryオブジェクトの繰り返し処理を行います。 処理対象の要素は this にセットされます。
    他にも複数メソッドがあるのですが、まずはよく利用するメソッドを覚えていき、徐々に使える種類 を増やしていきましょう。
    1 jQueryオブジェクト.children();
    1 jQueryオブジェクト.find('セレクタ');
    1 jQueryオブジェクト.parent();


<!-- 更新  -->
    
    要素の中身を取得、変更 (text)
   
    //テキストの取得
    jQueryオブジェクト.text();
    //テキストの変更 
    jQueryオブジェクト.text('変更したいテキスト');

        選択したjQueryオブジェクトに含まれているテキストの取得や変更を行うことが可能です。 引数なしの場合は取得となり、引数を指定した場合はテキストの上書きを行えます。
        
    要素のvalue属性から値を取得、変更 (val)

    // 値の取得 
    jQueryオブジェクト.val();
    // 値の変更 
    jQueryオブジェクト.val('変更後の値');

        textメソッドと似ているのですが、こちらは値を取得するためのメソッドです。 主に入力フォームで利用するメソッドで、input要素やtextarea要素から value 属性を取得や、変更が 行えます。

    属性の取得、変更 (attr)

    // 指定した属性から値を取得 
    jQueryオブジェクト.attr('属性名');
    // 指定した属性を書き換える 
    jQueryオブジェクト.attr('属性名', '書き換えたい値');

        選択されたjQueryオブジェクトの属性を取得、変更するメソッドです。 classやidといった各属性に対して行うことが可能です。

    CSSスタイルの取得、更新 (css)

    // 対象要素からCSSスタイルを取得 
    jQueryオブジェクト.css('プロパティ名');
    // 対象要素のCSSスタイルを書き換える 
    jQueryオブジェクト.css('プロパティ名', '値');

        css メソッドを利用することで簡単にスタイルを変更することが可能です。 第一引数にプロパティ名を指定し、第二引数であてたいスタイルを指定します。 JavaScriptの オブジェクト.style.プロパティ名 = '値' と同様の結果となります。


<!-- 要素の追加 -->
    削除

    jQueryオブジェクト.append('追加したいjQueryオブジェクト');

    要素の追加を行う場合は メソッドを利用します。 
    指定したjQueryオブジェクトの末尾に引数で渡した要素を追加します。
    append('<div></div>') と指定することで div 要素を追加することができます。 

    Events
    jQueryでのイベント設定方法はとてもシンプルで、on メソッドを利用することで簡潔に記述することができます。
    jQueryオブジェクト.on('イベント名', function(){ 
      //ここに処理を書く
    });

    第一引数に設定したいイベントの種類、第二引数に関数として実行したい処理を記述します。 イベントの種類は複数存在しています。以下は一例ですが、参考にしてください。

      イベント名
        click
        scroll
        mouseover
        change
        submit
        keydown
        focus

      説明
        クリックされた時
        ドキュメントがスクロールした時に発生
        マウスが要素に入った時に発生
        要素がフォーカスを得て値の修正が完了した時に発生
        フォームが送信された時に発生
        キーが押し下げられた時に発生
        要素にフォーカスが当たった時に発生

    clickイベント

    クリックされた時に発火させるイベントです。 
    ボタンをクリックした〜など汎用的でよく使われるイベントのひとつです。

    // id属性に"btn"が指定されているボタンをクリックした時に処理をする
    $('#btn').on('click', function() {
      console.log("ボタンがクリックされました。"); 
    });

        clickイベント自体はボタン以外にも設定できて、例えば div 要素に対してクリックした時の処理 
        を設定する、なんてことも可能です。
        classで指定したため複数の要素を取得してしまうのですが、繰り返し処理等は不要で取得したjQuery 
        オブジェクトから on メソッドを利用することで複数の要素にまとめてイベントを設定することができます。
        
        
    非同期通信
    jQueryには非同期通信(Ajax)用の ajax メソッドが用意されています。
    $.ajax().done().fali(); が基本的な構文で、 ajax メソッド内に通信を行うURLや各種通信の設定
    を引数として渡します。

    $.ajax({ 通信設定 })
     // 通信成功時 
     .done(function(変数) {
      // 通信後の処理
      // 通信結果は変数に格納されています
     })
      // 通信失敗時 
     .fail(function() {
      // 通信後の処理 
    });


        ajax メソッドの第一引数にリクエスト先のURL、第二引数にはオブジェクトとして通信の設定を行います。
        通信が成功した場合の処理は done メソッドに記述し、 失敗時の処理は fail メソッドに記述します。
        
    
    ajaxの例
    $.ajax({
      type: 'get',
      url: 'sample.json'
     })
      .done(function(response) {
        let mes = response['message']; 
        $('#result').text(mes);
      })
       .fail(function() {
      });

          上記の例では sample.json に対して GET で通信を行い、受け取った通信結果をもとにidが result の要素内のテキストを更新する処理を行います。